rm(list=ls())
df <-read.table('rating_final.txt')
names(df)[names(df)=="V1"] <- "userID" 
names(df)[names(df)=="V2"] <- "placeID" 
names(df)[names(df)=="V3"] <- "rating" 
names(df)[names(df)=="V4"] <- "food_rating" 
names(df)[names(df)=="V5"] <- "service_rating"
attach(df)
unique(userID)
#  [1] "U1077" "U1068" "U1067" "U1103" "U1107" "U1044" "U1070" #"U1031" "U1082"
# [10] "U1023" "U1060" "U1015" "U1123" "U1021" "U1026" "U1083" #"U1108" "U1012"
# [19] "U1093" "U1030" "U1066" "U1127" "U1017" "U1100" "U1133" #"U1118" "U1072"
# [28] "U1080" "U1063" "U1074" "U1117" "U1020" "U1051" "U1055" #"U1053" "U1035"
# [37] "U1064" "U1081" "U1001" "U1014" "U1088" "U1056" "U1134" #"U1106" "U1126"
# [46] "U1124" "U1018" "U1125" "U1119" "U1076" "U1022" "U1094" #"U1116" "U1105"
# [55] "U1075" "U1007" "U1115" "U1024" "U1132" "U1005" "U1120" #"U1004" "U1037"
# [64] "U1052" "U1036" "U1038" "U1071" "U1114" "U1084" "U1049" #"U1019" "U1069"
# [73] "U1113" "U1104" "U1079" "U1045" "U1009" "U1016" "U1047" #"U1095" "U1034"
# [82] "U1078" "U1099" "U1008" "U1040" "U1121" "U1110" "U1042" #"U1013" "U1054"
# [91] "U1111" "U1128" "U1062" "U1101" "U1135" "U1032" "U1048" #"U1092" "U1085"
#[100] "U1109" "U1102" "U1098" "U1046" "U1122" "U1138" "U1033" #"U1089" "U1003"
#[109] "U1091" "U1027" "U1029" "U1086" "U1137" "U1090" "U1061" #"U1041" "U1059"
#[118] "U1112" "U1057" "U1025" "U1097" "U1006" "U1131" "U1073" #"U1058" "U1002"
#[127] "U1096" "U1136" "U1010" "U1028" "U1050" "U1129" "U1087" #"U1065" "U1039"
#[136] "U1130" "U1043" "U1011"
unique(placeID)
#  [1] 135085 135038 132825 135060 135104 132740 132663 132732 #132630 132584
# [11] 132733 132560 132613 132667 132660 135088 132583 132608 #132609 132665
# [21] 132668 132715 132717 132594 132564 135071 132626 134987 #135034 132723
# [31] 135046 135075 132572 135074 135028 135032 135086 135058 #135001 134983
# [41] 134996 135019 134976 134999 135018 135013 134986 132767 #135016 135011
# [51] 135109 134975 135021 132768 135000 132766 134992 132773 #132561 132706
# [61] 132654 135051 135025 135049 135106 135072 132755 135044 #135048 135047
# [71] 132754 135076 135063 135042 135053 135081 135062 135069 #135057 135043
# [81] 135039 135052 135030 135027 132830 135108 135050 135070 #135041 135082
# [91] 135054 135066 135026 135059 135065 135079 135055 135080 #135064 135040
#[101] 135073 135033 135045 132834 132845 132846 132847 132851 #132854 132856
#[111] 132858 132861 132862 135035 132866 132869 132870 132875 #132877 132884
#[121] 132872 132885 132921 132922 132925 132951 132937 132954 #132955 132958
table(rating)
#rating
#  0   1   2 
#254 421 486 
table(rating)/length(rating)
#rating
#        0         1         2 
#0.2187769 0.3626184 0.4186047 
table(food_rating)
#food_rating
#  0   1   2 
#266 379 516 
table(food_rating)/length(food_rating)
#food_rating
#        0         1         2 
#0.2291128 0.3264427 0.4444444 
table(service_rating)
#service_rating
#  0   1   2 
#315 426 420 
table(service_rating)/length(service_rating)
#service_rating
#        0         1         2 
#0.2713178 0.3669251 0.3617571 
getmode <- function(v) {
+    uniqv <- unique(v)
+    uniqv[which.max(tabulate(match(v, uniqv)))]
+ }
mean(rating)
#[1] 1.199828
getmode(rating)
#[1] 2
quantile(rating)
#  0%  25%  50%  75% 100% 
#   0    1    1    2    2
mean(food_rating)
#[1] 1.215332
getmode(food_rating)
#[1] 2
quantile(food_rating)
#  0%  25%  50%  75% 100% 
#   0    1    1    2    2 
mean(service_rating)
#[1] 1.090439
getmode(service_rating)
#[1] 1
quantile(service_rating)
#  0%  25%  50%  75% 100% 
#   0    0    1    2    2 
